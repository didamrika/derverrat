<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Security & Privacy Demo</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body {
  font-family: Arial, sans-serif;
  background: #0f172a;
  color: #e5e7eb;
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
}
.container {
  max-width: 600px;
  background: #020617;
  padding: 2rem;
  border-radius: 12px;
}
button {
  padding: 10px 16px;
  font-size: 16px;
  cursor: pointer;
  border-radius: 6px;
  border: none;
}
video {
  width: 100%;
  margin-top: 1rem;
  border-radius: 8px;
}
pre {
  background: #020617;
  padding: 1rem;
  margin-top: 1rem;
  border-radius: 8px;
  white-space: pre-wrap;
}
</style>
</head>
<body>

<div class="container">
  <h1>üîê Security & Privacy Demo</h1>
  <p>
    Diese Demo zeigt, welche Informationen ein Browser
    <strong>nur mit Einwilligung</strong> preisgibt.
  </p>

  <button id="start">Demo starten (Einwilligung)</button>

  <video id="cam" autoplay playsinline></video>
  <pre id="output"></pre>
</div>

<script>
document.getElementById('start').onclick = async () => {
  const out = document.getElementById('output');
  out.textContent = '--- Ger√§teeigenschaften ---\n';

  // 1. Harmloses Fingerprinting
  out.textContent += `Screen: ${screen.width}x${screen.height}\n`;
  out.textContent += `Timezone: ${Intl.DateTimeFormat().resolvedOptions().timeZone}\n`;
  out.textContent += `Sprache: ${navigator.language}\n`;
  out.textContent += `User-Agent: ${navigator.userAgent}\n\n`;

  // 2. Geolocation (mit Consent)
  out.textContent += '--- Geolocation ---\n';
  try {
    const pos = await new Promise((resolve, reject) =>
      navigator.geolocation.getCurrentPosition(resolve, reject)
    );
    out.textContent +=
      `Latitude: ${pos.coords.latitude.toFixed(4)}\n` +
      `Longitude: ${pos.coords.longitude.toFixed(4)}\n\n`;
  } catch {
    out.textContent += 'Standortzugriff abgelehnt\n\n';
  }

  // 3. Kamera (mit Consent)
  out.textContent += '--- Kamera ---\n';
  try {
    const stream = await navigator.mediaDevices.getUserMedia({ video: true });
    document.getElementById('cam').srcObject = stream;
    out.textContent += 'Kamerazugriff erlaubt\n';
  } catch {
    out.textContent += 'Kamerazugriff abgelehnt\n';
  }

  // 4. Wichtiger Lehrpunkt
  out.textContent +=
    '\n‚ö†Ô∏è Hinweis:\n' +
    'Ohne Klick, Einwilligung und HTTPS w√§ren diese Daten nicht zug√§nglich.\n';
};
</script>

</body>
</html>
